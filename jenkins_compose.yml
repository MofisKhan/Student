pipeline {
   
   agent any
   
   environment {
        PATH = "$PATH:/usr/local/bin/"
        JENKINS_PATH= "JENKINS_PATH:/usr/bin/docker"
    }
    
   stages {
      stage('GIT poll') {
         steps {
            git url: 'https://github.com/MofisKhan/Student' 
         }
      }
      
      stage('maven build'){      
                steps{
              sh 'mvn package'
          }
      }
        stage("build and run docker images"){
            steps{
                sh 'docker-compose --version'
                sh 'docker-compose up '
            }
        }
      }
}
